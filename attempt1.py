import broadlink

# Replace with your Broadlink RM4 Mini's IP address and MAC address
BROADLINK_IP = "192.168.x.xxx"  # Update with your device's IP address
BROADLINK_MAC = "XX:XX:XX:XX:XX:XX"  # Update with your device's MAC address (without colons)

# Convert MAC address to bytes
BROADLINK_MAC = bytes.fromhex(BROADLINK_MAC.replace(":", ""))

# IR Codes
ir_codes = {
    'Power On': b'&\x00P\x00\x00\x01 \x8f\x10\x13\x10\x13\x10\x13\x104\x104\x11\x12\x11\x12\x113\x104\x105\x104\x103\x11\x12\x114\x113\x10\x13\x104\x10\x13\x10\x13\x104\x113\x11\x12\x11\x12\x11\x12\x10\x13\x104\x105\x0f\x14\x0f\x13\x104\x113\x114\x0f\x00\x04Y\x00\x01 E\x0f\x00\r\x05',
    'Power Off': b'&\x00P\x00\x00\x01 \x8e\x11\x12\x11\x12\x11\x12\x114\x0f5\x10\x13\x10\x13\x103\x114\x104\x104\x105\x10\x13\x0f4\x113\x11\x12\x114\x0f\x14\x0f\x14\x0f5\x103\x11\x12\x11\x12\x11\x12\x11\x12\x114\x0f5\x10\x13\x10\x13\x103\x114\x104\x10\x00\x04Y\x00\x01\x1fD\x11\x00\r\x05',
    'Temp Up': b'&\x00P\x00\x00\x01 \x8f\x10\x13\x10\x13\x10\x13\x104\x104\x10\x13\x10\x13\x104\x113\x105\x0f5\x103\x11\x12\x114\x104\x10\x13\x104\x10\x13\x104\x10\x13\x10\x13\x10\x13\x10\x13\x10\x13\x10\x13\x104\x10\x13\x104\x105\x0f4\x113\x114\x0f\x00\x04Y\x00\x01 E\x0f\x00\r\x05',
    'Temp Down': b'&\x00P\x00\x00\x01 \x8f\x10\x13\x10\x12\x11\x12\x114\x113\x10\x13\x10\x13\x104\x105\x103\x113\x114\x10\x13\x104\x103\x11\x12\x114\x11\x12\x10\x13\x104\x10\x13\x10\x13\x10\x13\x10\x13\x10\x12\x113\x113\x11\x12\x105\x104\x103\x114\x11\x00\x04W\x00\x01 E\x10\x00\r\x05',
    'Fan Speed': b'&\x00P\x00\x00\x01 \x8f\x10\x13\x10\x13\x10\x12\x113\x114\x10\x12\x11\x12\x105\x104\x103\x114\x104\x11\x12\x104\x105\x10\x13\x0f\x14\x0f\x14\x0f4\x11\x12\x11\x12\x11\x12\x11\x12\x11\x12\x104\x105\x0f\x14\x0f4\x113\x114\x104\x104\x10\x00\x04Y\x00\x01\x1fE\x10\x00\r\x05',
    'Cool Mode': b'&\x00P\x00\x00\x01 \x8f\x10\x13\x10\x13\x10\x12\x113\x114\x11\x12\x10\x13\x104\x104\x104\x113\x113\x11\x13\x0f5\x104\x10\x13\x10\x13\x10\x13\x10\x12\x113\x11\x12\x11\x12\x11\x12\x11\x12\x105\x104\x103\x11\x12\x114\x113\x104\x105\x10\x00\x04Y\x00\x01\x1fD\x11\x00\r\x05'
}

# Connect to Broadlink RM4 Mini
device = broadlink.hello(BROADLINK_IP)
device.auth()

# Function to send IR command
def send_ir(command):
    if command in ir_codes:
        device.send_data(ir_codes[command])
        print(f"Sent command: {command}")
    else:
        print(f"Command '{command}' not found.")

# Example Usage
send_ir('Power On')  # Turn AC on
send_ir('Temp Up')   # Increase temperature
send_ir('Cool Mode') # Set to Cool Mode
